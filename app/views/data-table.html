<div class="row well">

  <div class="col-sm-4">
    <div class='form-group'>
      <label class=' control-label'>Select Table</label>
      <select class='form-control' ng-model='currentTable'>
        <option ng:repeat="t in tables">{{t}}</option>
      </select>      
    </div>
  </div>

  <div class="col-sm-4">
    <div class='form-group'>
      <label class=' control-label'>Search</label>    
      <span class="glyphicon glyphicon-search"></span>
      <input class='form-control' ng-model="query">
    </div>
  </div>

  <div class="col-sm-4">
    <div class='form-group'>
      <label class=' control-label'>Sort</label>     
      <select class='form-control' ng-model="orderProp">
        <option ng:repeat="k in dTable.currHeaders()" value="{{k.named}}">{{k.named | cleanCol}}</option>
      </select>
    </div>
  </div>

</div>

<div class="row">
  <table id='data-table' class='table table-bordered table-striped table-hover table-condensed'>
    <thead>
      <tr>
        <th class="text-capitalize"  ng:repeat='k in dTable.currHeaders()' ng-hide='k.hide'><span ng-click='sort(k.id)'>{{k.named | cleanCol}}</span><span class="glyphicon glyphicon-remove" ng-click='hide(k.id)'></span></th>
      </tr>
    </thead>
    <tbody>
        <tr class='animate-repeat' ng-class='rowClass(v)' ng:repeat='v in dTable.currData() | filter:filterRefValue | orderBy:orderProp track by v.id'>
          <td ng:repeat='k in dTable.currHeaders()' ng-hide='k.hide' ng-dblclick='openModal(v.id,v[k.id])' ng-click='select(v.id,v[k.id])'>{{ v[k.id] | convert:k:getRefValue }}</td>          
        </tr>
    </tbody>  
  </table>
</div>

<script type="text/ng-template" id="editModal">
  <div class="modal-header">
      <h3 class="modal-title">Edit Form</h3>
  </div>
  <div class="modal-body">
    <!-- div class="row well" -->
      <form class='form-horizontal' role='form'>
        <div class='form-group' ng-repeat='k in headers'>
            <label for='{{k.name}}' class='col-sm-3 control-label text-capitalize'>{{k.name | cleanCol}}</label>          
            <div class='col-sm-9'>
              <input class='form-control' ng-if='k.name.indexOf("_id") == -1' type='text' placeholder='Enter Text' ng-model='formObj[k.name]' ng-disabled='k.name == "id"'>
              <div ng-if='k.name.indexOf("_id") != -1'>
                <select class='form-control' ng-model='formObj[k.name]'>
                  <option ng:repeat="v in mapOfMap[k.name]" value="{{v.id}}">{{v.name}}</option>
                </select>
              </div>
            </div>
        </div>
        <div class='col-sm-2'></div>
        <div class='col-sm-10 btn-group btn-group-lg'>
          <button type="button" ng-click="clone()" class="btn btn-primary">Clone</button>
          <button type="button" ng-click="update()" class="btn btn-warning">Update</button>
          <button type="button" ng-click="delete()" class="btn btn-danger">Delete</button>
          <button type="button" ng-click="clear()" class="btn btn-default">Clear</button>
        </div>
      </form>
    <!-- /div -- >
  </div>
</script>
